% \documentclass[a4paper, twoside, nobib, justified, nofonts]{tufte-book}
% \documentclass[a4paper, twoside, nobib    , justified]{tufte-book}
\documentclass[a4paper, twoside, nobib, justified]{tufte-book} % notoc, justified,marginals=raggedouter
% right ragged (aligned right)
% nofonts for using other fonts

% \usepackage{palatino}
% \usepackage{helvet}

\hypersetup{colorlinks}% uncomment this line if you prefer colored hyperlinks (e.g., for onscreen viewing)

%%
% Book metadata
\title[A Physicist's Approach To Machine Learning -- Understanding The Basic Bricks]{A Physicist's \newline \noindent 
       Approach to \newline \noindent 
       Machine Learning \newline \noindent
       --  \newline \noindent
       Understanding  \newline \noindent
       The Basic Bricks}
\author[Christian Michelsen]{\newline \noindent 
        Christian Michelsen \newline \noindent 
        Niels Bohr Institute \newline \noindent 
        University of Copenhagen \newline }
\publisher[]{Supervisor: \newline \noindent 
           Troels Petersen \newline \noindent
           Niels Bohr Institute \newline \noindent
           University of Copenhagen}

%%
% If they're installed, use Bergamo and Chantilly from www.fontsite.com.
% They're clones of Bembo and Gill Sans, respectively.
%\IfFileExists{bergamo.sty}{\usepackage[osf]{bergamo}}{}% Bembo
%\IfFileExists{chantill.sty}{\usepackage{chantill}}{}% Gill Sans

%\usepackage{microtype}

% when using custom bibliography
\usepackage[square, numbers, nonamebreak]{natbib}
\bibliographystyle{abbrvnat}


%%
% Just some sample text
\usepackage{lipsum}

% package for quotes
\usepackage{epigraph}
\setlength\epigraphwidth{.8\textwidth}
% \setlength\epigraphrule{0pt}

%%
% For nicely typeset tabular material
\usepackage{booktabs}

% maths packages
\usepackage{amsthm,amssymb,amsmath}
\usepackage[mathscr]{eucal}

%%
% For graphics / images
\usepackage{graphicx}
\setkeys{Gin}{width=\linewidth,totalheight=\textheight,keepaspectratio}
\graphicspath{{graphics/}{{figures/}}}

% allow for dots in filename
\usepackage{grffile}


\usepackage{tikz}
\usepackage[subpreambles=true]{standalone}

% subcaption does not work with Tufte
\usepackage[caption=false]{subfig}
% \usepackage[export]{adjustbox}


% The fancyvrb package lets us customize the formatting of verbatim
% environments.  We use a slightly smaller font.
\usepackage{fancyvrb}
\fvset{fontsize=\normalsize}

%%
% Prints argument within hanging parentheses (i.e., parentheses that take
% up no horizontal space).  Useful in tabular environments.
\newcommand{\hangp}[1]{\makebox[0pt][r]{(}#1\makebox[0pt][l]{)}}

%%
% Prints an asterisk that takes up no horizontal space.
% Useful in tabular environments.
\newcommand{\hangstar}{\makebox[0pt][l]{*}}

%%
% Prints a trailing space in a smart way.
\usepackage{xspace}


% % slashed symbols
% \usepackage{slashed}
\usepackage{centernot}

% ignore overfull up to 5pt
\hfuzz=10.002pt 

\newcommand{\Independent}{\mathrel{\perp\mspace{-10mu}\perp}}
\newcommand{\NotIndependent}{\centernot{\Independent}}


% add numbers to chapters, sections, subsections
\setcounter{secnumdepth}{2}
\setcounter{tocdepth}{2}

% Feynman diagrams
% \usepackage{tikz-feynman}
% \usepackage{feynman}

% lemmas and corollaries
% \newtheorem{theorem}{Theorem}[section]
% \newtheorem{corollary}{Corollary}[theorem]
% \newtheorem{lemma}[theorem]{Lemma}
\newtheorem{lemma}{Lemma}
\newtheorem{sublemma}{Lemma}[lemma]
\newtheorem{corollary}{Corollary}
\newtheorem{theorem}{Theorem}
\newtheorem{axiom}{Axiom}

% "Force" axioms to be on the same page if possible
% https://tex.stackexchange.com/questions/30120/avoid-page-break-in-theorem
\usepackage{etoolbox}% 
\usepackage{needspace}% http://ctan.org/pkg/needspace
\AtBeginEnvironment{axiom}{\Needspace{5\baselineskip}}% \break if fewer than 5\baselineskip is available on page

% bold math
\usepackage{bm}

% more control over enumerate
\usepackage{enumitem}

% for vector norms and abs
\newcommand{\abs}[1]{\lvert#1\rvert}
\newcommand{\norm}[1]{\lVert#1\rVert}

% allow first, second and third, 1st 2nd 3rd
\usepackage[super]{nth}

% % for using Inkscape plots
\usepackage{import}
\usepackage{xifthen}
\usepackage{pdfpages}
\usepackage{transparent}
\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \import{./figures/}{#1.pdf_tex}
}



%  units
\usepackage[binary-units=true]{siunitx}
\sisetup{seperr}
\DeclareSIUnit{\kroner}{kr.}
\DeclareSIUnit{\kr}{kr.}
\DeclareSIUnit{\Mkr}{M.kr.}
\DeclareSIUnit{\year}{year}
\DeclareSIUnit{\years}{years}
\DeclareSIUnit{\yr}{yr}

%  alignment in matrix matrices
\usepackage{mathtools}

% % allows for writing indices in matrices (matrix) outside 
% \usepackage{kbordermatrix}

% \usepackage{etoolbox}
% \let\bbordermatrix\bordermatrix
% \patchcmd{\bbordermatrix}{8.75}{4.75}{}{}
% \patchcmd{\bbordermatrix}{\left(}{\left[}{}{}
% \patchcmd{\bbordermatrix}{\right)}{\right]}{}{}



% custom subsubsection:
\titleclass{\subsubsection}{straight}
\titleformat{\subsubsection}%
  [hang]% shape
  {\normalfont\itshape}% format applied to label+text
  {\thesubsubsection}% label
  {1em}% horizontal separation between label and title body
  {}% before the title body
  []% after the title body


% custom centering of figure 
\makeatletter
\newcommand*{\centerfloat}{%
  \parindent \z@
  \leftskip \z@ \@plus 1fil \@minus \textwidth
  \rightskip\leftskip
  \parfillskip \z@skip}
\makeatother

% roman numerals
\newcommand{\RNum}[1]{\uppercase\expandafter{\romannumeral #1\relax}}


%  maybe a smaller filesize
\pdfminorversion=5 
\pdfcompresslevel=9
\pdfobjcompresslevel=2



\usepackage[dvipsnames]{xcolor}
\definecolor{red} {RGB}{227, 26, 28}
\definecolor{blue}{RGB}{31, 120, 180}
\definecolor{green}{RGB}{51, 160, 44}
\definecolor{orange}{RGB}{255, 127, 0}
\definecolor{purple}{RGB}{106, 61, 154}

% \definecolor{light-blue}{RGB}{166, 206, 227}  
\definecolor{light-blue}{RGB}{133, 165, 182}
\definecolor{light-green}{RGB}{178, 223, 138}
\definecolor{light-purple}{RGB}{202, 178, 214}

\definecolor{viridis-light}{RGB}{252, 226, 63}
\definecolor{viridis-dark}{RGB}{59, 18, 72}





\definecolor{light-gray}{gray}{0.95}


% make a code environment
\newcommand{\code}[1]{\colorbox{light-gray}{\texttt{\detokenize{#1}}}}

% make quote signs
\newcommand{\q}[1]{``#1''}

% make Figure quote
\newcommand{\figref}[1]{Figure ~\ref{#1}}

% avoid problems with autocite not properly defined
\newcommand{\autocite}[1]{\citep{#1}}

% bold vector
\renewcommand{\vec}[1]{\mathbf{#1}}

\DeclareMathOperator*{\argmin}{arg\,min} % Jan Hlavacek


% short dash
\mathchardef\dash="2D

% to have references in normal text and not sidenotes, see:
% https://tex.stackexchange.com/questions/247636/how-to-remove-sidenote-citations-in-tufte-latex


% chapter format
\titleformat{\chapter}%
  {\huge\rmfamily\itshape}% format applied to label+text
  {\itshape\Huge\thechapter\hspace{1pt}.\hspace{4pt}} % label
  {0pt}% horizontal separation between label and title body
  {}% before the title body
  []% after the title body



% Prints the month name (e.g., January) and the year (e.g., 2008)
\newcommand{\monthyear}{%
  \ifcase\month\or January\or February\or March\or April\or May\or June\or
  July\or August\or September\or October\or November\or
  December\fi\space\number\year
}

% =============================================
%Import symbols from font cmmi without importing the whole package
% =============================================
\DeclareFontFamily{U} {cmmi}{}

\DeclareFontShape{U}{cmmi}{m}{n}{
  <-6> cmmi5
  <6-7> cmmi6
  <7-8> cmmi7
  <8-9> cmmi8
  <9-10> cmmi9
  <10-12> cmmi10
  <12-> cmmi12}{}

\DeclareSymbolFont{Xcmmi} {U} {cmmi}{m}{n}

% http://www.ctex.org/documents/shredder/src/texbook.pdf
% \let\altxi\xi
% \DeclareMathSymbol{\xi}{\mathord}{Xcmmi}{24}
\let\altrho\rho
\DeclareMathSymbol{\rho}{\mathord}{Xcmmi}{26}
\let\alttau\tau
\DeclareMathSymbol{\tau}{\mathord}{Xcmmi}{28}
\let\altchi\chi
\DeclareMathSymbol{\chi}{\mathord}{Xcmmi}{31}
\let\altphi\phi
\DeclareMathSymbol{\phi}{\mathord}{Xcmmi}{30}
% \let\altPhi\Phi
% \DeclareMathSymbol{\Phi}{\mathord}{Xcmmi}{8}


% =============================================

\newcommand{\TODO}{\textcolor{red}{\bf TODO!}\xspace}



% Custom TOC
\titlecontents{part}%
  [0em] % distance from left margin
  {\vspace{0.8\baselineskip}\huge\rmfamily\itshape} % above (global formatting of entry)
  {\hspace*{0em}\contentslabel{2em}} % before w/label (label = ``2'')
  {\hspace*{0em}} % before w/o label
  {\titlerule*[0.8em]{}\rmfamily\upshape\contentspage} % filler + page (leaders and page num)
  [\vspace{0.1\baselineskip}] % after

\titlecontents{chapter}%
  [0em] % distance from left margin
  {\vspace{0.8\baselineskip}\LARGE\rmfamily\itshape} % above (global formatting of entry)
  {\hspace*{0em}\contentslabel{2em}} % before w/label (label = ``2'')
  {\hspace*{0em}} % before w/o label
  {\titlerule*[0.8em]{}\rmfamily\upshape\contentspage} % filler + page (leaders and page num)
  [\vspace{0.1\baselineskip}] % after

\titlecontents{section}%
  [0em] % distance from left margin
  {\vspace{0.08\baselineskip}\Large\rmfamily\itshape} % above (global formatting of entry)
  {\hspace*{2em}\contentslabel{2em}} % before w/label (label = ``2'')
  {\hspace*{2em}} % before w/o label
  {\titlerule*[0.8em]{.}\large\rmfamily\upshape\contentspage} % filler + page (leaders and page num)
  [\vspace{0.01\baselineskip}] % after

\titlecontents{subsection}%
  [0em] % distance from left margin
  {\vspace{0.08\baselineskip}\normalsize\rmfamily\itshape} % above (global formatting of entry)
  {\hspace*{4em}\contentslabel{3em}} % before w/label (label = ``2'')
  {\hspace*{4em}} % before w/o label
  {\titlerule*[0.8em]{.}\normalsize\rmfamily\upshape\contentspage} % filler + page (leaders and page num)
  [\vspace{0.01\baselineskip}] % after

  

% Generates the index
\usepackage{makeidx}
\makeindex

% un-breakeable dashes. HAS TO BE LAST PACKAGE TO BE LOADED
\usepackage[shortcuts]{extdash}

% extdash breakable dashes
% Words hyphened with these dashes can also be broken at other positions than the dash

% \-/ hyphen
% \-- en-dash
% \--- em-dash
% extdash unbreakable dashes
% No line breaks possible at the hyphen

% \=/ hyphen
% \== en-dash
% \=== em-dash


\pagenumbering{roman}




% \includeonly{chapter_foreword,chapter_introduction,chapter_machine_learning_theory,chapter_housing_prices,chapter_particle_physics_theory,chapter_quark_gluon,chapter_appendix_housing,chapter_appendix_quarks_gluons}

% \includeonly{chapter_particle_physics_theory,chapter_quark_gluon,chapter_appendix_quarks_gluons}

% \includeonly{chapter_housing_prices,chapter_appendix_housing}
% \includeonly{chapter_foreword}


% \includeonly{chapter_machine_learning_theory}


\begin{document}

% r.3 full title page
% \maketitle
\begin{titlepage}
  \includepdf{./frontpage/frontpage}
\end{titlepage}

%  copyright page
\input{copyright.tex}

\chapter*{Abstract}
\addcontentsline{toc}{chapter}{Abstract}
Here will be a decent abstract at some point\textsuperscript{TM}.


% Needed for proper numbering of TOC
\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Table of Contents}

\vspace{-5cm}
% \renewcommand\contentsname{Table of Content}
\tableofcontents
% \addtocontents{toc}{~\hfill\textbf{Page}\par}

% r.9 introduction
\cleardoublepage


%%
%  # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 

\include{chapter_foreword}

% Start the main matter (normal chapters)
\mainmatter

\pagenumbering{arabic}

\include{chapter_introduction}

\chapter*{Part I}
% \part*{Part I}
% \chapter[Chapter Title]{\centering Chapter Title}
\addcontentsline{toc}{part}{Part I}

Part \RNum{1} of this thesis covers the introductory theory of machine learning in \autoref{ch:ML_theory} along with some extra technical aspects of it. In \autoref{ch:housing_price_analysis} machine learning is applied to estimate Danish housing prices as precisely and accurately as possible.  

\include{chapter_machine_learning_theory}

\include{chapter_housing_prices}

%  # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 

\chapter*{Part II}
\addcontentsline{toc}{part}{Part II}
Part \RNum{2} of this thesis deals with particle physics and the discriminatory power of machine learning for quark-gluon identification and subsequent analysis. In \autoref{ch:hep:particle_physcis_LEP} the theory of the Standard Model is introduced together with a description of the ALEPH detector. Theory is applied in \autoref{ch:quark_gluon_analysis} where the types of jets and events in each collision is analysed using machine learning to improve the understanding of how gluon jets hadronizes and splits: simply said how they look and behave. 

\include{chapter_particle_physics_theory}

\include{chapter_quark_gluon}

% \chapter*{Part III}
% \addcontentsline{toc}{part}{Part III}
% Part \RNum{3} of this thesis discusses and concludes the two subprojects.

% \include{chapter_discussion}

% \include{chapter_conclusion}

%  # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 


%%
% The back matter contains appendices, bibliographies, indices, glossaries, etc.

\appendix

% \input{chapter_appendix_housing.tex}
\include{chapter_appendix_housing}

\chapter{Quarks vs. Gluons Appendix}

\include{chapter_appendix_quarks_gluons}

\backmatter

\listoffigures
\addcontentsline{toc}{chapter}{List of Figures}

\listoftables
\addcontentsline{toc}{chapter}{List of Tables}



\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{My_Library}
% \bibliographystyle{plainnat}


\printindex

\end{document}

